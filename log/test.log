# Logfile created on Wed Aug 27 18:50:42 +0530 2008WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 2) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 2) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 2, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 3) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 3) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 3, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 3) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 3) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 3, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 4) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 4) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 4, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 4) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 4) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 4, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 5) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 5) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 5, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 4) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: bba2de358993e530f27694e72ee1f19a
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: bba2de358993e530f27694e72ee1f19a
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 4) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e006a5691cc1dbb59a40f33749ddeef1
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e006a5691cc1dbb59a40f33749ddeef1
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 4) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 28fdda572fc676981367b63edf7fc2b6
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 28fdda572fc676981367b63edf7fc2b6
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 4) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 4) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 4) [0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 4[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 4) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 5a46f7c5fdd8da43694ba42436aaec4c
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 4) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (id = 4 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Cookie set: uid=4; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 4) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--126017e8c6727650ce5a9a831ade133594dc3db0
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--126017e8c6727650ce5a9a831ade133594dc3db0
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 5) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 5) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 5, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 6) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 6) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 6, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 6) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 6) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 6, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 7 and site_id = 6) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 6 AND `sections`.id <> 7) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 7[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 6) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 6) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e782de48922160750e328ea12e250dc7
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"7", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 7 AND (`sections`.site_id = 6)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 7) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e782de48922160750e328ea12e250dc7
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"7", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 7) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 7) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 7, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 8 and site_id = 7) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 7 AND `sections`.id <> 8) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 8[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 7) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 7) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: b89c9007d7413aba92ea2661b9b8e177
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"8", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 8 AND (`sections`.site_id = 7)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 8) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: b89c9007d7413aba92ea2661b9b8e177
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"8", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 7) ORDER BY lft[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 4534ccae9ab4b60f0caf3cf2fe4aa4ca
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 7) ORDER BY lft, lft LIMIT 1[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 4534ccae9ab4b60f0caf3cf2fe4aa4ca
  Parameters: {"action"=>"index", "controller"=>"comments"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  no id given
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1165:in `perform_action_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:601:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:598:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:46:in `the user goes to the comment show page'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: {}\n\n' WHERE `id` = 8[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 8) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 8) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 8, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 9 and site_id = 8) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 8 AND `sections`.id <> 9) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 9[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 8) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 8) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: b11405f18ff36c5d559b237df8bd05b2
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"9", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 9 AND (`sections`.site_id = 8)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 9) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: b11405f18ff36c5d559b237df8bd05b2
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"9", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: all\n' WHERE `id` = 9[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 9) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 9, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 10 and site_id = 9) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 9 AND `sections`.id <> 10) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 10[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 9) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 9) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 438a1788b7ea6506af20e658002bef68
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"10", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 10 AND (`sections`.site_id = 9)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 10) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 438a1788b7ea6506af20e658002bef68
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"10", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 10[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 10) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 10, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 11 and site_id = 10) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 10 AND `sections`.id <> 11) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 11[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 10) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 10) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 290645e29efd0c7c521badf60d3aaa1f
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"11", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 11 AND (`sections`.site_id = 10)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 11) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 290645e29efd0c7c521badf60d3aaa1f
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"11", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 11[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 11) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 11) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 11, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 12 and site_id = 11) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 11 AND `sections`.id <> 12) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 12[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 5) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 5) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 5) [0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 5[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 11) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 99c2fae31eff1d9e208ea85fdbe55318
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 11) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (id = 5 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
Cookie set: uid=5; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 11) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 11) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQoiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--c480cd99c3ef9cb03c3d7d7d6c0b27a0d3be7776
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"12", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 12 AND (`sections`.site_id = 11)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 12) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQoiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--c480cd99c3ef9cb03c3d7d7d6c0b27a0d3be7776
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"12", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 12[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 12) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 12) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 12, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 13 and site_id = 12) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 12 AND `sections`.id <> 13) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 13[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 12) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 12) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 239d7ff62ef20021e179ff627a4060b4
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"13", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 13 AND (`sections`.site_id = 12)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 13) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 239d7ff62ef20021e179ff627a4060b4
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"13", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 13[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 13) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 13) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 13, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 14 and site_id = 13) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 13 AND `sections`.id <> 14) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 14[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 13) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 13) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 4b2a0ebebdc650e27694b1fa8ae0d389
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"14", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 14 AND (`sections`.site_id = 13)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 14) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 4b2a0ebebdc650e27694b1fa8ae0d389
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"14", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 14) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 14) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 14, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 15) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 15) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 15, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 15) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 15) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 15, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 16 and site_id = 15) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 15 AND `sections`.id <> 16) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 16[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 15) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 15) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 597afc1b507ca319792f077622de7ac9
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"16", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 16 AND (`sections`.site_id = 15)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 16) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 597afc1b507ca319792f077622de7ac9
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"16", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 16) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 16) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 16, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 17 and site_id = 16) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 16 AND `sections`.id <> 17) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 17[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 16) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 16) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: f0242af03622f5d579068e70fb30fe82
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"17", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 17 AND (`sections`.site_id = 16)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 17) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: f0242af03622f5d579068e70fb30fe82
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"17", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 16) ORDER BY lft[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 3f6470a1266eb78632f3ba8eedc06cfc
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 16) ORDER BY lft, lft LIMIT 1[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 3f6470a1266eb78632f3ba8eedc06cfc
  Parameters: {"action"=>"index", "controller"=>"comments"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  no id given
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1165:in `perform_action_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:601:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:598:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:46:in `the user goes to the comment show page'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: {}\n\n' WHERE `id` = 17[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 17) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 17) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 17, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 18 and site_id = 17) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 17 AND `sections`.id <> 18) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 18[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 17) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 17) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 571582517f757c33c3ccf0d98e45d312
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"18", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 18 AND (`sections`.site_id = 17)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 18) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 571582517f757c33c3ccf0d98e45d312
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"18", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: all\n' WHERE `id` = 18[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 18) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 18) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 18, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 19 and site_id = 18) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 18 AND `sections`.id <> 19) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 19[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 18) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 18) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 97501b7ceb5018fa5e94d3a1bd3ce0b1
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"19", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 19 AND (`sections`.site_id = 18)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 19) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 97501b7ceb5018fa5e94d3a1bd3ce0b1
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"19", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 19[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 19) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 19) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 19, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 20 and site_id = 19) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 19 AND `sections`.id <> 20) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 20[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 19) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 19) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e59d7ad23247c6fe86bdc32d41f11f6c
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"20", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 20 AND (`sections`.site_id = 19)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 20) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e59d7ad23247c6fe86bdc32d41f11f6c
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"20", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 20[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 20) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 20) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 20, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 21 and site_id = 20) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 20 AND `sections`.id <> 21) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 21[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 6) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 6) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 6) [0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 6[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 20) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 2bbf9833d5843205a8dfa22367b96497
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 20) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (id = 6 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) LIMIT 1[0m
Cookie set: uid=6; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 20) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 20) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQsiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--42b1fb9a98fa0d8b3852b3c6b74ef45c167719ee
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"21", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 21 AND (`sections`.site_id = 20)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 21) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQsiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--42b1fb9a98fa0d8b3852b3c6b74ef45c167719ee
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"21", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 21[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 21) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 21) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 21, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 22 and site_id = 21) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 21 AND `sections`.id <> 22) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 22[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 21) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 21) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 308bd971f84a0d44174a0c14a8af567a
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"22", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 22 AND (`sections`.site_id = 21)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 22) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 308bd971f84a0d44174a0c14a8af567a
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"22", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 22[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 22) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 22) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 22, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 23 and site_id = 22) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 22 AND `sections`.id <> 23) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 23[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 22) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 22) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 02eb56791390944badf44c6fa20ceac7
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"23", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 23 AND (`sections`.site_id = 22)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 23) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 02eb56791390944badf44c6fa20ceac7
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"23", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 23) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 23) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 23, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 24) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 24) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 24, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 23) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 06e5247cd3143c6067f447a7cdfba8a5
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 06e5247cd3143c6067f447a7cdfba8a5
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 23) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e3140a044aaea34904d3fccd9313fb9d
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e3140a044aaea34904d3fccd9313fb9d
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 23) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: d3c75435fede183205845db542b09ab1
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: d3c75435fede183205845db542b09ab1
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 7) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 7) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 7) [0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 7[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 23) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: dcab24f344f6d5e1a3c003a468bc3f56
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 23) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (id = 7 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) LIMIT 1[0m
Cookie set: uid=7; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 23) ORDER BY lft[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQwiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--723f69c1d96459bb3ef85d7f15a9e68ae823ff7f
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m


Processing ShopController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQwiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--723f69c1d96459bb3ef85d7f15a9e68ae823ff7f
  Parameters: {"action"=>"show", "id"=>"fifth-product#comments", "controller"=>"shop"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  Couldn't find Section without an ID
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1360:in `find_from_ids'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:537:in `find'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:47:in `find'
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_shop/app/controllers/shop_controller.rb:226:in `set_section'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:23:in `the user clicks on 'Details' of a product'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 24) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 24) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 24, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 25) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 25) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 25, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 25) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 25) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 25, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 26 and site_id = 25) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 25 AND `sections`.id <> 26) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 26[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 25) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 25) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 30a12286938ce7a4c2c849c0b810d353
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"26", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 26 AND (`sections`.site_id = 25)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 26) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 30a12286938ce7a4c2c849c0b810d353
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"26", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 26) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 26) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 26, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 27 and site_id = 26) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 26 AND `sections`.id <> 27) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 27[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 26) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 26) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e26653b23c66c643becaca4dbb58ff09
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"27", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 27 AND (`sections`.site_id = 26)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 27) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e26653b23c66c643becaca4dbb58ff09
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"27", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 26) ORDER BY lft[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 22b6f47f89b5a53a9b75e119e4859847
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 26) ORDER BY lft, lft LIMIT 1[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 22b6f47f89b5a53a9b75e119e4859847
  Parameters: {"action"=>"index", "controller"=>"comments"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  no id given
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1165:in `perform_action_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:601:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:598:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:46:in `the user goes to the comment show page'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: {}\n\n' WHERE `id` = 27[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 27) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 27) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 27, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 28 and site_id = 27) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 27 AND `sections`.id <> 28) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 28[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 27) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 27) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: fe96e7b3decb288268b7f477cb4dbdff
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"28", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 28 AND (`sections`.site_id = 27)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 28) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: fe96e7b3decb288268b7f477cb4dbdff
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"28", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: all\n' WHERE `id` = 28[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 28) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 28) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 28, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 29 and site_id = 28) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 28 AND `sections`.id <> 29) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 29[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 28) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 28) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 332d1033eaef8fef787e496f396ef473
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"29", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 29 AND (`sections`.site_id = 28)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 29) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 332d1033eaef8fef787e496f396ef473
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"29", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 29[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 29) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 29) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 29, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 30 and site_id = 29) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 29 AND `sections`.id <> 30) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 30[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 29) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 29) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e2b29ea4ae386e8a45995b9a5d0dc2e0
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"30", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 30 AND (`sections`.site_id = 29)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 30) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e2b29ea4ae386e8a45995b9a5d0dc2e0
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"30", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 30[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 30) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 30) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 30, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 31 and site_id = 30) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 30 AND `sections`.id <> 31) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 31[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 8) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 8) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 8) [0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 8[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 30) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 5d9b5f88d9349ca19c88606ba6f25c80
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 30) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (id = 8 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
Cookie set: uid=8; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 30) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 30) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQ0iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--080221a4781ebf53e78f5589846013366f0bafcd
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"31", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 31 AND (`sections`.site_id = 30)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 31) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQ0iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--080221a4781ebf53e78f5589846013366f0bafcd
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"31", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 31[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 31) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 31) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 31, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 32 and site_id = 31) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 31 AND `sections`.id <> 32) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 32[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 31) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 31) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: eb790408b529de782c99e19ebecb0b15
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"32", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 32 AND (`sections`.site_id = 31)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 32) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: eb790408b529de782c99e19ebecb0b15
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"32", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 32[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 32) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 32) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 32, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 33 and site_id = 32) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 32 AND `sections`.id <> 33) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 33[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 32) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 32) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: f3ed331e087c49147effed3d5eae3f87
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"33", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 33 AND (`sections`.site_id = 32)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 33) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: f3ed331e087c49147effed3d5eae3f87
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"33", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  ActiveRecord::RecordNotFound
    D:/Adva_CMS in GIT/adva_cms/vendor/engines/adva_blog/app/controllers/blog_controller.rb:57:in `set_article'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:173:in `evaluate_method'
    D:/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/callbacks.rb:161:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:430:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:592:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/default.rb:3:in `the user goes to the url $path'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:14:in `the user posts a comment to the blog article'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:36:in `the user posts a comment which Akismet thinks is $result'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 33) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 33) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 33, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 34) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 34) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 34, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 34) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 34) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 34, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 35 and site_id = 34) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 34 AND `sections`.id <> 35) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 35[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 34) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 34) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 34, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 36) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 36) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 36, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 35) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 9 and section_id = 36) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 36 AND `categories`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 35) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 35) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 34, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 35, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Columns (0.000000)[0m   [0mSHOW FIELDS FROM `content_versions`[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 1, 34, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 35, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Columns (0.000000)[0m   [0mSHOW FIELDS FROM `category_assignments`[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(1, 9)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 1) [0m
  [4;36;1mTagging Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mTag Columns (0.000000)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(4, 'Content', 1, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(5, 'Content', 1, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 1 and section_id = 35) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 35 AND `contents`.id <> 1) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 1[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 34) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 61e4448edc0cbe0fa67407ae1d9de323
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"35", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 35 AND (`sections`.site_id = 34)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 35) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
  [4;36;1mComment Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `comments`[0m
  [4;35;1mAnonymous Columns (0.000000)[0m   [0mSHOW FIELDS FROM `anonymouses`[0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 1)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 1)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 35) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 34) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 35) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 36) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 36) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `cached_pages`[0m
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 34) LIMIT 1[0m
  [4;35;1mCachedPageReference Columns (0.000000)[0m   [0mSHOW FIELDS FROM `cached_page_references`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 34) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(34, '2008-01-01 12:00:00', 35, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(1, '', 'Article', 1)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 34) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"1"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 1) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 35) [0m
  [4;35;1mRole::Anonymous Columns (0.000000)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mContent Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `contents`[0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 1) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 34) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 35) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mRole::Author Columns (0.000000)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 34) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 34) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 35) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 36) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 34) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 36) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 34) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 34) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(34, '2008-01-01 12:00:00', 35, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Content' AND (comments.approved = 0 AND comments.commentable_type <> 'Topic')) [0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 35) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 35) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 35, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 37 and site_id = 35) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 35 AND `sections`.id <> 37) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 37[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 35) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 35) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 35, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 38) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 38) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 38, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 37) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 10 and section_id = 38) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 38 AND `categories`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 37) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 37) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 35, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 37, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 2, 35, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 37, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(2, 10)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 2) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(6, 'Content', 2, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(7, 'Content', 2, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 2 and section_id = 37) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 37 AND `contents`.id <> 2) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 2[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 35) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: cc16eacec678811306aba40a562342d0
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"37", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 37 AND (`sections`.site_id = 35)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 37) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 2)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 2)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 37) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 35) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 37) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 38) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 38) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 35) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(35, '2008-01-01 12:00:00', 37, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(3, '', 'Article', 2)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 35) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"2"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 2) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 37) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 2) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 35) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 37) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 35) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 35) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 37) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 38) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 38) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 35) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 35) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(35, '2008-01-01 12:00:00', 37, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 35) ORDER BY lft[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoUYW5vbnltb3VzX3Rva2VuIi47NTE1OGNkZjc1YjE1ZDdkMzE2MzBj
MzEyOTU2ODhjY2ViYWQxY2YxOSIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxl
cjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7BjoKZXJyb3JG--27be278ab662d72a2a768756b5240eb3ef3f99f7
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 35) ORDER BY lft, lft LIMIT 1[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoUYW5vbnltb3VzX3Rva2VuIi47NTE1OGNkZjc1YjE1ZDdkMzE2MzBj
MzEyOTU2ODhjY2ViYWQxY2YxOSIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxl
cjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7BjoKZXJyb3JG--27be278ab662d72a2a768756b5240eb3ef3f99f7
  Parameters: {"action"=>"index", "controller"=>"comments"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  no id given
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1165:in `perform_action_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:601:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:598:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:46:in `the user goes to the comment show page'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: {}\n\n' WHERE `id` = 36[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 36) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 36) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 36, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 39 and site_id = 36) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 36 AND `sections`.id <> 39) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 39[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 36) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 36) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 36, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 40) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 40) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 40, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 39) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 11 and section_id = 40) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 40 AND `categories`.id <> 11) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 39) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 39) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 36, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 39, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 3, 36, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 39, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(3, 11)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 3) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(8, 'Content', 3, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(9, 'Content', 3, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 3 and section_id = 39) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 39 AND `contents`.id <> 3) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 3[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 36) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: ebb7b53f1c1c687edf079ca3ef6ec3c7
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"39", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 39 AND (`sections`.site_id = 36)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 39) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 3)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 3)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 39) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 3)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 36) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 39) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 40) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 40) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 36) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(36, '2008-01-01 12:00:00', 39, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(5, '', 'Article', 3)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 36) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"3"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 3) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 39) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 3) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 36) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 39) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 36) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 36) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 39) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 40) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 36) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 40) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 36) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 36) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(36, '2008-01-01 12:00:00', 39, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: all\n' WHERE `id` = 37[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 37) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 37) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 37, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 41 and site_id = 37) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 37 AND `sections`.id <> 41) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 41[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 37) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 37) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 37, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 42) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 42) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 42, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 41) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 12 and section_id = 42) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 42 AND `categories`.id <> 12) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 41) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 41) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 37, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 41, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 4, 37, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 41, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(4, 12)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 4) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(10, 'Content', 4, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(11, 'Content', 4, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 4 and section_id = 41) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 41 AND `contents`.id <> 4) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 4[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 37) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 37940f2209b3afd56c24de1e616a89e2
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"41", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 41 AND (`sections`.site_id = 37)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 41) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 4)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 4)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 41) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 37) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 41) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 42) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 42) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 37) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(37, '2008-01-01 12:00:00', 41, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(7, '', 'Article', 4)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 37) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"4"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 4) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 41) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 4) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 37) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 41) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 37) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 37) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 41) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 42) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 37) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 42) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 37) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(37, '2008-01-01 12:00:00', 41, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 38[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 38) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 38) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 38, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 43 and site_id = 38) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 38 AND `sections`.id <> 43) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 43[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 38) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 38) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 38, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 44) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 44) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 44, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 43) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 13 and section_id = 44) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 44 AND `categories`.id <> 13) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 43) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 43) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 38, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 43, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 5, 38, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 43, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(5, 13)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 5) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(12, 'Content', 5, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(13, 'Content', 5, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 5 and section_id = 43) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 43 AND `contents`.id <> 5) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 5[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 38) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: f56df0338791c6aa4d24700ad46dd6e1
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"43", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 43 AND (`sections`.site_id = 38)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 43) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 5)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 5)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 43) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 13) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 38) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 43) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 44) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 44) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 38) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 38) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(38, '2008-01-01 12:00:00', 43, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(9, '', 'Article', 5)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 38) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"5"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 5) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 43) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 5) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 38) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 43) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 38) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 38) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 43) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 44) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 38) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 44) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 38) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 38) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(38, '2008-01-01 12:00:00', 43, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 39[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 39) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 39) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 39, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 45 and site_id = 39) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 39 AND `sections`.id <> 45) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 45[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 39) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 39) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 39, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 46) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 46) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 46, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 45) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 14 and section_id = 46) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 46 AND `categories`.id <> 14) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 45) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 45) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 39, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 45, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 6, 39, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 45, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(6, 14)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 6) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 6)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(14, 'Content', 6, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(15, 'Content', 6, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 6 and section_id = 45) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 45 AND `contents`.id <> 6) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 6[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 6 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 9[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 39) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 3b29c843f44cbbce5aa18a14e9936c7b
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (id = 9 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) LIMIT 1[0m
Cookie set: uid=9; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 39) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQ4iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--bf1edf2d6bbad8781a8906ee571f5690bbafb01f
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"45", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 45 AND (`sections`.site_id = 39)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 45) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 6)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 6)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 45) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 14) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 6)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 6)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 6 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 39) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 45) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 46) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 46) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 39) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 39) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(39, '2008-01-01 12:00:00', 45, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(11, '', 'Article', 6)[0m
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 39) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BzoIdWlkaQ4iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--bf7c7d5a87f16137f734a48dc90a1dea5b34a426
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"6"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 6) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 45) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 6) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 39) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 45) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 39) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 39) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 45) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 46) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 39) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 46) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 39) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 39) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(39, '2008-01-01 12:00:00', 45, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank%22%2C%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 40[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 40) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 40) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 40, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 47 and site_id = 40) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 40 AND `sections`.id <> 47) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 47[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 40) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 40) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 40, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 48) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 48) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 48, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 47) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 15 and section_id = 48) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 48 AND `categories`.id <> 15) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 47) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 47) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 40, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 47, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 7, 40, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 47, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(7, 15)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 7) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 7)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(16, 'Content', 7, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(17, 'Content', 7, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 7 and section_id = 47) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 47 AND `contents`.id <> 7) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 7[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 7 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 40) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 3654174c3309fc2b3afff59a0b5d4d48
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"47", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 47 AND (`sections`.site_id = 40)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 47) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 7)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 7)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 47) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 15) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 7)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 7)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 7 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 40) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 47) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 48) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 48) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 40) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 40) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(40, '2008-01-01 12:00:00', 47, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(13, '', 'Article', 7)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 40) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"7"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 7) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 47) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 7) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 40) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 47) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 40) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 40) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 47) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 48) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 40) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 48) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 40) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 40) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(40, '2008-01-01 12:00:00', 47, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 41[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 41) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 41) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 41, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 49 and site_id = 41) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 41 AND `sections`.id <> 49) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 49[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 41) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 41) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 41, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 50) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 50) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 50, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 49) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 16 and section_id = 50) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 50 AND `categories`.id <> 16) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 49) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 49) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 41, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 49, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 8, 41, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 49, 'User', 'the article excerpt', 1, NULL, NULL, 9, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(8, 16)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 8) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 8)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(18, 'Content', 8, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(19, 'Content', 8, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 8 and section_id = 49) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 9) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 9) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 49 AND `contents`.id <> 8) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 8[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 8 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 41) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: baa81e8470022fedab49e2867ba5e045
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"49", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 49 AND (`sections`.site_id = 41)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 49) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('9')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 8)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 8)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 49) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 8)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 8)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 8 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 41) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 49) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 50) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 50) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 41) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 41) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(41, '2008-01-01 12:00:00', 49, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(15, '', 'Article', 8)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 41) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"8"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 8) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 49) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 8) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 41) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 49) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 41) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 41) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 49) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 50) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 41) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 50) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 41) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 41) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(41, '2008-01-01 12:00:00', 49, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
WARNING: Couldn't create the public file structure for plugin 'theme_support'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/theme_support/D:
WARNING: Couldn't create the public file structure for plugin 'adva_shop'; Error follows:
Invalid argument - D:/Adva_CMS in GIT/adva_cms/public/plugin_assets/adva_shop/D:
Loading routes for engine adva_activity
Loading routes for engine adva_assets
Loading routes for engine adva_blog
Loading routes for engine adva_cms
Loading routes for engine adva_comments
Loading routes for engine adva_forum
Loading routes for engine adva_shop
Loading routes for engine adva_spam
Loading routes for engine adva_user
Loading routes for engine adva_wiki
Loading routes for engine theme_support
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mSite Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sites`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mArticle Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mUser Delete all (0.000000)[0m   [0;1mDELETE FROM `users` [0m
  [4;35;1mAnonymous Delete all (0.000000)[0m   [0mDELETE FROM `anonymouses` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name') [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org') [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login') [0m
  [4;35;1mUser Create (0.000000)[0m   [0mINSERT INTO `users` (`name`, `updated_at`, `signature`, `token_key`, `verified_at`, `deleted_at`, `password_salt`, `about`, `homepage`, `password_hash`, `login`, `email`, `remember_me`, `token_expiration`, `created_at`) VALUES('name', '2008-01-01 12:00:00', NULL, NULL, NULL, NULL, '317f575c096429236a135af66cdd5817873e2da9', NULL, NULL, '2c977b886a474b8126e0527363d7a9fd492707f5', 'login', 'email@email.org', NULL, NULL, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mBlog Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 42) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 42) [0m
  [4;35;1mSection Columns (0.000000)[0m   [0mSHOW FIELDS FROM `sections`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 42, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mCategory Columns (0.000000)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 51) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 51) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 51, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Delete all (0.000000)[0m   [0mDELETE FROM `products` [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mWikipage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `contents`[0m
  [4;36;1mWikipage Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Wikipage' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 43) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 43) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 43, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 52 and site_id = 43) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 43 AND `sections`.id <> 52) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 52[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `sections`[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 43) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 43) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 43, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 53) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 53) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 53, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 52) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 18 and section_id = 53) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 53 AND `categories`.id <> 18) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 52) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 52) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 43, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 52, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Columns (0.000000)[0m   [0mSHOW FIELDS FROM `content_versions`[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 9, 43, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 52, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Columns (0.000000)[0m   [0mSHOW FIELDS FROM `category_assignments`[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(9, 18)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 9) [0m
  [4;36;1mTagging Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 9)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mTag Columns (0.000000)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(20, 'Content', 9, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(21, 'Content', 9, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 9 and section_id = 52) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 52 AND `contents`.id <> 9) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 9[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 9 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 43) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: cf2d84b442e21632df386804279dc4f5
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"52", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 52 AND (`sections`.site_id = 43)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 52) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
  [4;36;1mComment Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `comments`[0m
  [4;35;1mAnonymous Columns (0.000000)[0m   [0mSHOW FIELDS FROM `anonymouses`[0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 9)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 9)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 52) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 18) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 9)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 9)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 9 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 43) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 52) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 53) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 53) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Columns (0.000000)[0m   [0mSHOW FIELDS FROM `cached_pages`[0m
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 43) LIMIT 1[0m
  [4;35;1mCachedPageReference Columns (0.000000)[0m   [0mSHOW FIELDS FROM `cached_page_references`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 43) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(43, '2008-01-01 12:00:00', 52, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(17, '', 'Article', 9)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 43) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"9"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 9) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 52) [0m
  [4;35;1mRole::Anonymous Columns (0.000000)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mContent Columns (0.000000)[0m   [0;1mSHOW FIELDS FROM `contents`[0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 9) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 43) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 52) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mRole::Author Columns (0.000000)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 43) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 43) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 52) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 53) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 43) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 53) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 43) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 43) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(43, '2008-01-01 12:00:00', 52, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 9 AND `comments`.commentable_type = 'Content' AND (comments.approved = 0 AND comments.commentable_type <> 'Topic')) [0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 44) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 44) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 44, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 54 and site_id = 44) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 44 AND `sections`.id <> 54) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 54[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 44) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 44) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 44, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 55) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 55) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 55, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 54) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 19 and section_id = 55) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 55 AND `categories`.id <> 19) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 54) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 54) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 44, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 54, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 10, 44, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 54, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(10, 19)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 10) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 10)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(22, 'Content', 10, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(23, 'Content', 10, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 10 and section_id = 54) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 54 AND `contents`.id <> 10) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 10[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 44) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 1b6cb9e113a4a699b06b5e7cb3c42619
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"54", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 54 AND (`sections`.site_id = 44)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 54) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 10)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 10)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 54) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 19) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 10)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 10)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 44) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 54) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 55) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 55) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 44) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 44) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(44, '2008-01-01 12:00:00', 54, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(19, '', 'Article', 10)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 44) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"10"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 10) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 54) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 10) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 44) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 54) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 44) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 44) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 54) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 55) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 55) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 44) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 44) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(44, '2008-01-01 12:00:00', 54, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 44) ORDER BY lft[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoUYW5vbnltb3VzX3Rva2VuIi47NTE1OGNkZjc1YjE1ZDdkMzE2MzBj
MzEyOTU2ODhjY2ViYWQxY2YxOSIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxl
cjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7BjoKZXJyb3JG--27be278ab662d72a2a768756b5240eb3ef3f99f7
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 44) ORDER BY lft, lft LIMIT 1[0m


Processing CommentsController#index (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoUYW5vbnltb3VzX3Rva2VuIi47NTE1OGNkZjc1YjE1ZDdkMzE2MzBj
MzEyOTU2ODhjY2ViYWQxY2YxOSIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxl
cjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7BjoKZXJyb3JG--27be278ab662d72a2a768756b5240eb3ef3f99f7
  Parameters: {"action"=>"index", "controller"=>"comments"}
/!\ FAILSAFE /!\  Tue Jan 01 12:00:00 UTC 2008
  Status: 500 Internal Server Error
  no id given
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/Adva_CMS in GIT/adva_cms/vendor/spec/factories-and-workers/lib/factories-and-workers/factory_builder.rb:36:in `method_missing'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1165:in `perform_action_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:601:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:398:in `call'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:598:in `run_before_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:578:in `call_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process_without_test'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/test_process.rb:16:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:285:in `process'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:176:in `get'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `send!'
    D:/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/integration.rb:450:in `get'
    D:/Adva_CMS in GIT/adva_cms/stories/steps/comment.rb:46:in `the user goes to the comment show page'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `__send__'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/step.rb:18:in `perform'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:73:in `store_and_call'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/world.rb:114:in `When'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `send'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:129:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_mediator.rb:103:in `to_proc'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `instance_eval'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/scenario_runner.rb:20:in `run'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:49:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:45:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `each'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner/story_runner.rb:40:in `run_stories'
    D:/Adva_CMS in GIT/adva_cms/vendor/gems/rspec-1.1.4/lib/spec/story/runner.rb:49:in `register_exit_hook'
    stories/run.rb:10
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: {}\n\n' WHERE `id` = 45[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 45) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 45) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 45, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 56 and site_id = 45) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 45 AND `sections`.id <> 56) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 56[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 45) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 45) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 45, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 57) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 57) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 57, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 56) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 20 and section_id = 57) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 57 AND `categories`.id <> 20) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 56) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 56) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 45, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 56, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 11, 45, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 56, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(11, 20)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 11) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(24, 'Content', 11, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(25, 'Content', 11, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 11 and section_id = 56) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 56 AND `contents`.id <> 11) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 11[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 11 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 45) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 82a4faebaa6f1859c56ac361bb5a879b
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"56", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 56 AND (`sections`.site_id = 45)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 56) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 11)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 11)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 56) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 20) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 11)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 11 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 45) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 56) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 57) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 57) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 45) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 45) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(45, '2008-01-01 12:00:00', 56, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(21, '', 'Article', 11)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 45) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"11"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 11) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 56) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 11) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 45) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 56) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 45) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 45) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 56) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 57) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 45) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 57) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 45) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 45) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(45, '2008-01-01 12:00:00', 56, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: all\n' WHERE `id` = 46[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 46) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 46) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 46, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 58 and site_id = 46) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 46 AND `sections`.id <> 58) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 58[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 46) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 46) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 46, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 59) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 59) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 59, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 58) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 21 and section_id = 59) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 59 AND `categories`.id <> 21) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 58) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 58) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 46, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 58, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 12, 46, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 58, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(12, 21)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 12) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 12)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(26, 'Content', 12, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(27, 'Content', 12, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 12 and section_id = 58) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 58 AND `contents`.id <> 12) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 12[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 12 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 46) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: fcf4d75f5f9ba3e5179bfe36ca4aca07
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"58", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 58 AND (`sections`.site_id = 46)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 58) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 12)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 12)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 58) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 21) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 12)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 12)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 12 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 46) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 58) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 59) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 59) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 46) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 46) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(46, '2008-01-01 12:00:00', 58, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(23, '', 'Article', 12)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 46) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"12"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 12) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 58) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 12) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 46) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 58) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 46) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 46) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 58) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 59) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 46) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 59) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 46) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 46) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(46, '2008-01-01 12:00:00', 58, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 47[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 47) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 47) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 47, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 60 and site_id = 47) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 47 AND `sections`.id <> 60) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 60[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 47) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 47) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 47, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 61) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 61) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 61, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 60) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 22 and section_id = 61) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 61 AND `categories`.id <> 22) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 60) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 60) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 47, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 60, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 13, 47, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 60, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(13, 22)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 13) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 13)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(28, 'Content', 13, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(29, 'Content', 13, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 13 and section_id = 60) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 60 AND `contents`.id <> 13) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 13[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 13 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 47) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: e1a92e02a9fce5ea6c0b63600fa73e83
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"60", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 60 AND (`sections`.site_id = 47)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 60) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 13)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 13)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 60) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 22) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 13)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 13)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 13 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 47) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 60) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 61) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 61) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 47) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 47) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(47, '2008-01-01 12:00:00', 60, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(25, '', 'Article', 13)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 47) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"13"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 13) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 60) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 13) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 47) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 60) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 47) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 47) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 60) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 61) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 47) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 61) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 47) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 47) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(47, '2008-01-01 12:00:00', 60, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:default: \n :ham: authenticated\n' WHERE `id` = 48[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 48) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 48) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 48, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 62 and site_id = 48) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 48 AND `sections`.id <> 62) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 62[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 48) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 48) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 48, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 63) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 63) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 63, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 62) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 23 and section_id = 63) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 63 AND `categories`.id <> 23) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 62) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 62) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 48, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 62, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 14, 48, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 62, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(14, 23)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 14) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 14)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(30, 'Content', 14, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(31, 'Content', 14, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 14 and section_id = 62) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 62 AND `contents`.id <> 14) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 14[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 14 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `verified_at` = '2008-01-01 12:00:00' WHERE `id` = 10[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 48) ORDER BY lft[0m


Processing SessionController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: 205a6689d1f04b0955a4671788797160
  Parameters: {"user"=>{"password"=>"password", "login"=>"login"}, "action"=>"create", "controller"=>"session"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'login') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (id = 10 AND password_hash = '2c977b886a474b8126e0527363d7a9fd492707f5' AND verified_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Cookie set: uid=10; path=/
Cookie set: uname=name; path=/
Redirected to http://www.example.com/
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://www.example.com/session]
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 48) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: BAh7BzoIdWlkaQ8iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewY6C25vdGljZUY=--af2c87d95cce3b84dfb4f8800c9b91c2ecc35a4a
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"62", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 62 AND (`sections`.site_id = 48)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 62) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 14)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 14)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 62) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 23) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 14)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 14)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 14 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 48) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 62) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 63) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 63) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 48) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 48) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(48, '2008-01-01 12:00:00', 62, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(27, '', 'Article', 14)[0m
Cookie set: flash=%7B%22notice%22%3A%22Login+Successful%22%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 48) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BzoIdWlkaQ8iCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNo
OjpGbGFzaEhhc2h7AAY6CkB1c2VkewA=--1e1b0a86c0afaea508f9c99728a12924cfa39594
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"14"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 14) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 62) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 14) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 48) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 62) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 48) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 48) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 62) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 63) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 48) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 63) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 48) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 48) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(48, '2008-01-01 12:00:00', 62, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank%22%2C%22notice%22%3A%22Login+Successful%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSite Delete all (0.000000)[0m   [0;1mDELETE FROM `sites` [0m
  [4;35;1mSection Delete all (0.000000)[0m   [0mDELETE FROM `sections` [0m
  [4;36;1mSite Create (0.000000)[0m   [0;1mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
  [4;36;1mSite Update (0.000000)[0m   [0;1mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 49[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 49) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 49) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mBlog Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 49, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 64 and site_id = 49) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 49 AND `sections`.id <> 64) [0m
  [4;36;1mBlog Update (0.000000)[0m   [0;1mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 64[0m
  [4;35;1mArticle Delete all (0.000000)[0m   [0mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mCategory Delete all (0.000000)[0m   [0;1mDELETE FROM `categories` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mBlog Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;35;1mShop Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 49) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 49) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mSection Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 49, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 65) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 65) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;36;1mCategory Create (0.000000)[0m   [0;1mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 65, 1, NULL, 2, 'a-category')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 64) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 24 and section_id = 65) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 65 AND `categories`.id <> 24) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 64) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 64) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mArticle Create (0.000000)[0m   [0;1mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 49, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 64, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mContent::Version Create (0.000000)[0m   [0mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 15, 49, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 64, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mCategoryAssignment Create (0.000000)[0m   [0;1mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(15, 24)[0m
  [4;35;1mCategoryAssignment Load (0.000000)[0m   [0mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 15) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 15)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(32, 'Content', 15, '2008-01-01 12:00:00')[0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;35;1mTag Create (0.000000)[0m   [0mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;36;1mTagging Create (0.000000)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(33, 'Content', 15, '2008-01-01 12:00:00')[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 15 and section_id = 64) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 64 AND `contents`.id <> 15) [0m
  [4;36;1mArticle Update (0.000000)[0m   [0;1mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 15[0m
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 15 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;36;1mComment Delete all (0.000000)[0m   [0;1mDELETE FROM `comments` [0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 49) ORDER BY lft[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: 7e228bd303449ee3899955da427c3421
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"64", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 64 AND (`sections`.site_id = 49)) ORDER BY lft[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 64) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 15)) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 15)) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 64) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 24) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 15)) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 15)) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 15 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 49) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 64) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 65) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 65) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 49) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 49) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(49, '2008-01-01 12:00:00', 64, '/2008/1/1/the-article-title', NULL)[0m
  [4;35;1mCachedPageReference Create (0.000000)[0m   [0mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(29, '', 'Article', 15)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 49) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"15"}}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 15) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 64) [0m
  [4;36;1mContent Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (`contents`.`id` = 15) ORDER BY position, published_at[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 49) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 64) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 49) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 49) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 64) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 65) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 49) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 65) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 49) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 49) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(49, '2008-01-01 12:00:00', 64, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSite Delete all (0.000000)[0m   [0mDELETE FROM `sites` [0m
  [4;36;1mSection Delete all (0.000000)[0m   [0;1mDELETE FROM `sections` [0m
  [4;35;1mSite Create (0.000000)[0m   [0mINSERT INTO `sites` (`name`, `title`, `akismet_url`, `timezone`, `tag_path`, `subtitle`, `approve_comments`, `comment_filter`, `search_path`, `theme_names`, `permalink_style`, `host`, `akismet_key`, `tag_layout`, `permissions`, `spam_options`, `comment_age`, `email`, `ping_urls`) VALUES('name', 'title', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '--- []\n\n', NULL, 'www.example.com', NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
  [4;35;1mSite Update (0.000000)[0m   [0mUPDATE `sites` SET `spam_options` = '--- \n:akismet: \n :url: http://domain.org\n :key: key\n' WHERE `id` = 50[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sites` [0m
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and site_id = 50) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 50) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;35;1mBlog Create (0.000000)[0m   [0mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-blog-title', 50, '--- {}\n\n', NULL, 'the blog title', NULL, 'Blog', 1, NULL, NULL, NULL, 2, 'the-blog-title', -1, NULL)[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-blog-title' and id != 66 and site_id = 50) AND ( (`sections`.`type` = 'Blog' ) ) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-blog-title' AND `sections`.site_id = 50 AND `sections`.id <> 66) [0m
  [4;35;1mBlog Update (0.000000)[0m   [0mUPDATE `sections` SET `permissions` = '--- \ncomment: \n create: anonymous\n show: anonymous\n' WHERE `id` = 66[0m
  [4;36;1mArticle Delete all (0.000000)[0m   [0;1mDELETE FROM `contents` WHERE ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mCategory Delete all (0.000000)[0m   [0mDELETE FROM `categories` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mBlog Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Blog' ) ) LIMIT 1[0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`title` = 'a category') LIMIT 1[0m
  [4;36;1mShop Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE ( (`sections`.`type` = 'Shop' ) ) LIMIT 1[0m
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: type
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `sections` WHERE (permalink = 'the-section-title' and site_id = 50) [0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `sections` WHERE (`sections`.permalink = 'the-section-title' AND `sections`.site_id = 50) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT max(`sections`.rgt) AS max_rgt FROM `sections` WHERE (1 = 1) [0m
  [4;36;1mSection Create (0.000000)[0m   [0;1mINSERT INTO `sections` (`permalink`, `site_id`, `options`, `content_filter`, `title`, `contents_count`, `type`, `lft`, `template`, `permissions`, `parent_id`, `rgt`, `path`, `comment_age`, `layout`) VALUES('the-section-title', 50, '--- {}\n\n', NULL, 'the Section title', NULL, NULL, 3, NULL, NULL, NULL, 4, 'the-section-title', -1, NULL)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and section_id = 67) [0m
  [4;36;1mCategory Load (0.000000)[0m   [0;1mSELECT * FROM `categories` WHERE ((lft < 0 and rgt > 0)) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 67) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`categories`.rgt) AS max_rgt FROM `categories` WHERE (1 = 1) [0m
  [4;35;1mCategory Create (0.000000)[0m   [0mINSERT INTO `categories` (`permalink`, `title`, `section_id`, `lft`, `parent_id`, `rgt`, `path`) VALUES('a-category', 'a category', 67, 1, NULL, 2, 'a-category')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and section_id = 66) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (permalink = 'a-category' and id != 25 and section_id = 67) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE ((lft < 1 and rgt > 2)) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `categories` WHERE (`categories`.permalink = 'a-category' AND `categories`.section_id = 67 AND `categories`.id <> 25) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 66) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT max(`contents`.position) AS max_position FROM `contents` WHERE (`contents`.section_id = 66) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mArticle Create (0.000000)[0m   [0mINSERT INTO `contents` (`permalink`, `cached_tag_list`, `site_id`, `body_html`, `assets_count`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `section_id`, `author_type`, `type`, `excerpt`, `author_homepage`, `version`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 'foo bar', 50, 'the article body', 0, '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 66, 'User', 'Article', 'the article excerpt', NULL, 1, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;36;1mContent::Version Create (0.000000)[0m   [0;1mINSERT INTO `content_versions` (`permalink`, `content_id`, `site_id`, `body_html`, `updated_at`, `title`, `excerpt_html`, `body`, `author_name`, `versioned_type`, `section_id`, `author_type`, `excerpt`, `version`, `author_homepage`, `filter`, `author_id`, `author_email`, `published_at`, `position`, `comment_age`, `created_at`) VALUES('the-article-title', 16, 50, 'the article body', '2008-01-01 12:00:00', 'the article title', 'the article excerpt', 'the article body', 'name', 'Article', 66, 'User', 'the article excerpt', 1, NULL, NULL, 10, 'email@email.org', NULL, 1, 0, '2008-01-01 12:00:00')[0m
  [4;35;1mCategoryAssignment Create (0.000000)[0m   [0mINSERT INTO `category_assignments` (`content_id`, `category_id`) VALUES(16, 25)[0m
  [4;36;1mCategoryAssignment Load (0.000000)[0m   [0;1mSELECT * FROM `category_assignments` WHERE (`category_assignments`.content_id = 16) [0m
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 16)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'foo') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'foo') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('foo')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(34, 'Content', 16, '2008-01-01 12:00:00')[0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'bar') LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `tags` WHERE (`tags`.name = 'bar') [0m
  [4;36;1mTag Create (0.000000)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('bar')[0m
  [4;35;1mTagging Create (0.000000)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(35, 'Content', 16, '2008-01-01 12:00:00')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `contents` WHERE (permalink = 'the-article-title' and id != 16 and section_id = 66) AND ( (`contents`.`type` = 'Article' ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `name` FROM `users` WHERE (`users`.name = 'name' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `email` FROM `users` WHERE (`users`.email = 'email@email.org' AND `users`.id <> 10) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `login` FROM `users` WHERE (`users`.login = 'login' AND `users`.id <> 10) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `permalink` FROM `contents` WHERE (`contents`.permalink = 'the-article-title' AND `contents`.section_id = 66 AND `contents`.id <> 16) [0m
  [4;35;1mArticle Update (0.000000)[0m   [0mUPDATE `contents` SET `published_at` = '2008-01-01 12:00:00' WHERE `id` = 16[0m
  [4;36;1mComment Load (0.000000)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 16 AND `comments`.commentable_type = 'Content') ORDER BY comments.created_at[0m
  [4;35;1mComment Delete all (0.000000)[0m   [0mDELETE FROM `comments` [0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 50) ORDER BY lft[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m


Processing BlogController#show (for 127.0.0.1 at 2008-01-01 12:00:00) [GET]
  Session ID: d5c6f2e647e104df9031e528fbfb9f4a
  Parameters: {"permalink"=>"the-article-title", "month"=>"1", "section_id"=>"66", "action"=>"show", "method"=>:get, "day"=>"1", "controller"=>"blog", "year"=>"2008"}
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 66 AND (`sections`.site_id = 50)) ORDER BY lft[0m
  [4;36;1mArticle Load (0.000000)[0m   [0;1mSELECT * FROM `contents` WHERE (permalink = 'the-article-title') AND (`contents`.section_id = 66) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.id IN ('10')) [0m
Rendering template within layouts/default
Rendering blog/show
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 16)) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN category_assignments ON categories.id = category_assignments.category_id WHERE ((`category_assignments`.content_id = 16)) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 66) [0m
  [4;35;1mCategory Load (0.000000)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 25) [0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 16)) [0m
  [4;36;1mTag Load (0.000000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'Content') AND (`taggings`.taggable_id = 16)) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered blog/_article (0.00000)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 16 AND `comments`.commentable_type = 'Content' AND (comments.approved = 1 AND comments.commentable_type <> 'Topic')) [0m
Rendered comments/_list (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.site_id = 50) ORDER BY lft[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 66) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (parent_id = 67) AND (1 = 1) ORDER BY lft[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 67) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;35;1mCachedPage Load (0.000000)[0m   [0mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/2008/1/1/the-article-title' AND `cached_pages`.`site_id` = 50) LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/2008/1/1/the-article-title' AND `cached_pages`.site_id = 50) [0m
  [4;35;1mCachedPage Create (0.000000)[0m   [0mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(50, '2008-01-01 12:00:00', 66, '/2008/1/1/the-article-title', NULL)[0m
  [4;36;1mCachedPageReference Create (0.000000)[0m   [0;1mINSERT INTO `cached_page_references` (`cached_page_id`, `method`, `object_type`, `object_id`) VALUES(31, '', 'Article', 16)[0m
Cookie set: flash=%7B%7D; path=/
Cached page: /2008/1/1/the-article-title.html (0.00000)
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/2008/1/1/the-article-title]

  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 50) ORDER BY lft[0m


Processing CommentsController#create (for 127.0.0.1 at 2008-01-01 12:00:00) [POST]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--eb6c8c01ef58b71ef10bc87df45dca32529c5835
  Parameters: {"commit"=>"Submit Comment", "return_to"=>"/2008/1/1/the-article-title", "action"=>"create", "anonymous"=>{"name"=>"", "homepage"=>"", "email"=>""}, "controller"=>"comments", "comment"=>{"commentable_type"=>"Article", "body"=>"", "commentable_id"=>"16"}}
  [4;35;1mSite Load (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`host` = 'www.example.com') LIMIT 1[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mArticle Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 16) AND ( (`contents`.`type` = 'Article' ) ) ORDER BY contents.published_at desc[0m
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`id` = 66) [0m
  [4;35;1mContent Load (0.000000)[0m   [0mSELECT * FROM `contents` WHERE (`contents`.`id` = 16) ORDER BY position, published_at[0m
  [4;36;1mSite Load (0.000000)[0m   [0;1mSELECT * FROM `sites` WHERE (`sites`.`id` = 50) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 66) [0m
Rendering template within layouts/default
Rendering comments/show
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_comment (0.00000)
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sites` WHERE (`sites`.`id` = 50) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered comments/_form (0.00000)
  [4;36;1mSection Load (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.site_id = 50) ORDER BY lft[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 66) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
Rendered widgets/_section (0.00000)
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (parent_id = 67) AND (1 = 1) ORDER BY lft[0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `sections` WHERE (`sections`.`parent_id` IS NULL) AND (`sections`.site_id = 50) ORDER BY lft, lft LIMIT 1[0m
  [4;35;1mSection Load (0.000000)[0m   [0mSELECT * FROM `sections` WHERE (`sections`.`id` = 67) [0m
Rendered widgets/_section (0.00000)
Rendered widgets/_sections (0.00000)
Rendered shared/_flash (0.00000)
Rendered shared/_footer (0.00000)
  [4;36;1mCachedPage Load (0.000000)[0m   [0;1mSELECT * FROM `cached_pages` WHERE (`cached_pages`.`url` = '/comments' AND `cached_pages`.`site_id` = 50) LIMIT 1[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT `url` FROM `cached_pages` WHERE (`cached_pages`.url = '/comments' AND `cached_pages`.site_id = 50) [0m
  [4;36;1mCachedPage Create (0.000000)[0m   [0;1mINSERT INTO `cached_pages` (`site_id`, `updated_at`, `section_id`, `url`, `cleared_at`) VALUES(50, '2008-01-01 12:00:00', 66, '/comments', NULL)[0m
Cookie set: flash=%7B%22error%22%3A%22Body+can%27t+be+blank+and+Author+is+invalid%22%7D; path=/
Completed in 0.00010 (10000 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00000 (0%) | 200 OK [http://www.example.com/comments]
  [4;35;1mComment Load (0.000000)[0m   [0mSELECT * FROM `comments` LIMIT 1[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mROLLBACK[0m
