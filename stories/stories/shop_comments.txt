Story: View products comments.
  As a user
  I want to view all comments regarding a product in the shop 
  So I can perform an informed purchase

  Scenario: User views the product that has comments
    Given a shop with commented product
    And the user visits the shop section
    Then the page has a list of products
    And the page is paginated
    When the user clicks on 'Details' of a product
    Then the page has the details for the product
    And the page has a list of approved comments

  Scenario: An anonymous user adds a comment to product
    Given a shop with products
    And product commenting for anonymous users is allowed
    And the user visits the shop section
    Then the page has a list of products
    And the page is paginated
    When the user clicks on 'Details' of a product
    Then the page has the details for the product
    And the page has a comment creation form
    And the form contains anonymous name and email fields
    When the user fills in the form with his name, email and comment
    And the user clicks the 'Submit comment' button
    Then a new comment is created
    And the product has one unapproved comment more

# 3.5 User adds comment to product

Story: User adds comments to a product.
  As a user
  I want to add a comment to a product
  So other user can see my opinion

  Scenario: An anonymous user adds a comment to product
    Given a shop with products
    And an anonymous user
    And product commenting for anonymous users is allowed
    And the user visits the shop section
    Then the page has a list of products
    And the page is paginated
    When the user clicks on 'Details' of a product
    Then the page has the details for the product
    And the page has a comment creation form
    And the form contains name and email fields
    When the user fills in the form with his name, email and comment
    And the user clicks the 'Submit comment' button
    Then a new comment is created
    And the product has one unapproved comment more

  Scenario: The registered user adds a comment to product
    Given a shop with products
    And the user is logged in
    And product commenting for registered users is allowed
    And the user visits the shop section
    Then the page has a list of products
    And the page is paginated
    When the user clicks on 'Details' of a product
    Then the page has the details for the product
    And the page has a comment creation form
    And the form contains comment field
    When the user fills in the form with a comment
    And the user clicks the 'Submit comment' button
    Then a new comment is created
    And the product has one unapproved comment more